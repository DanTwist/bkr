ПОЯСНЮВАЛЬНА ЗАПИСКА
до бакалаврської кваліфікаційної роботи на тему:
Розроблення системи завадостійкого
безпровідного керування безпілотними апаратами

Студент групи	ІК-41  Хомицький Данило Остапович

З А В Д А Н Н Я
на бакалаврську кваліфікаційну роботу студентові
 				Хомицькому Данилу Остаповичу					
(прізвище, ім’я, по батькові)
1. Тема роботи
 «Розроблення системи завадостійкого безпровідного керування безпілотними апаратами»	
затверджена наказом по інституту від «	22 » квітня 2025р.   № _1423-4-08	
2. Термін здачі студентом закінченої роботи 	   06.06.2025				____
3. Вихідні дані до роботи 	безпілотні апарати, ExpressLRS, резервування каналів, протокол CRSF, надійність радіозв'язку
4. Зміст розрахунково-пояснювальної записки (перелік питань, що їх належить розробити)
1. Аналіз теоретичних основ безпровідного зв'язку та методів підвищення надійності.
2. Дослідження можливості модифікації ExpressLRS для кастомних частот. 
3. Розроблення архітектуру системи резервування з двома незалежними каналами.
4. Створення алгоритму автоматичного перемикання між каналами. 
5. Проведення експериментального дослідження ефективності системи. 
5. Перелік графічного матеріалу (з точним зазначенням обов’язкових креслень) 
1. Блок-діаграма існуючих протоколів та їх характеристик надійності	
2. Структурна схема системи резервування з двома незалежними каналами	
3. Логічна схема програмної реалізації модуля інтелектуального вибору сигналу	
4. Схема підключення основної частини стенду	


7. Дата видачі завдання 				 

			Керівник  						
							(підпис)
			Завдання прийняв до виконання					
									(підпис)

                                                (підпис)
Хомицький Д.О., Думич С.С. (керівник). Розроблення системи завадостійкого
безпровідного керування безпілотними апаратами. Бакалаврська кваліфікаційна робота. – Національний університет «Львівська Політехніка», Львів, 2025.

Розширена анотація
Надійність каналів радіозв'язку є критично важливою для безпечної експлуатації безпілотних літальних апаратів (БПЛА), особливо під час виконання місій за межами прямої видимості або в складних електромагнітних умовах. Сучасні системи як ExpressLRS (ELRS), незважаючи на такі розвинені функції як частотне стрибання та корекція помилок, залишаються вразливими до перешкод, багатошляхового загасання та навмисного заглушування через залежність від одного фізичного каналу зв'язку [1]. Дане дослідження представляє систему резервування з двома каналами, яка підвищує надійність керування БПЛА через перемикання каналів на основі аналізу якості зв'язку в реальному часі [2].
Розроблена архітектура системи включає наземну станцію керування з двома передавачами ELRS, що працюють на кастомних частотах, відповідні бортові приймачі та інтелектуальний модуль перемикання. Алгоритм перемикання безперервно контролює параметри протоколу CRSF, реалізуючи вибір каналу з гістерезисом для запобігання непотрібним коливанням перемикання [3]. Експериментальна валідація з використанням спектрального аналізу в кастомному діапазоні продемонструвала успішну роботу з відношенням сигнал/шум понад 56 дБ [4].
Тестування продуктивності виявило час реакції перемикання каналів 65-75 мс для критичних сценаріїв, з максимальною затримкою не більше 170 мс навіть в умовах серйозних перешкод. Система підтримує безперервне керування під час планових переходів між каналами, швидко реагуючи на аварійні ситуації, такі як повна відмова передавача [5]. 
Об'єкт дослідження – надійність радіозв'язку в системах керування безпілотними літальними апаратами.
Предмет дослідження – розробка та валідація системи резервування з двома каналами для протоколу ExpressLRS.
Мета дослідження – підвищення надійності керування БПЛА через інтелектуальне перемикання каналів на основі оцінки якості зв'язку в реальному часі.
Ключові слова: безпілотні апарати, ExpressLRS, резервування каналів, протокол CRSF, надійність радіозв'язку, інтелектуальне перемикання

Список використаних джерел:
1. Malyar, M., & Andreiev, O. (2023). Analysis of modern UAV communication protocols for long-range applications. International Journal of Electronics and Telecommunications, 69(2), 245-252. doi: 10.24425/ijet.2023.145234
2. Vysotska, V., & Fernandes, V. N. (2020). Mathematical methods of data processing in intelligent information systems. Eastern-European Journal of Enterprise Technologies, 4(4), 15-23. doi: 10.15587/1729-4061.2020.210717
3. Shakhovska, N., & Vovk, O. (2019). Big data processing techniques for IoT systems. Advances in Cyber-Physical Systems, 4(1), 12-18. doi: 10.23939/acps2019.01.012
4. Peleshko, D., & Rak, T. (2018). Signal processing algorithms for wireless communication systems. Computer Science and Information Technologies, 1, 45-52. doi: 10.11591/ijece.v8i4.pp2456-2465
5. Hu, Z., & Tereikovskyi, I. (2017). Multi-channel communication systems reliability analysis. International Journal of Intelligent Systems and Applications, 9(7), 1-8. doi: 10.5815/ijisa.2017.07.01
Khomytskyi D.O, Dumych S.S (supervisor). Development of a System for Interference-Resistant Wireless Control of Unmanned Aerial Vehicles. Bachelor’s thesis. –Lviv Polytechnic National University, Lviv, 2025.

Зміст
ВСТУП	8
РОЗДІЛ 1. ТЕОРЕТИЧНІ ОСНОВИ ТА АНАЛІЗ СИСТЕМ КЕРУВАННЯ БПЛА 	10
1.1. Теоретичні основи безпровідного зв'язку …………………………..10
1.2. Аналіз протоколів безпровідного зв'язку для систем керування….14
1.3. Частотні аспекти роботи систем радіокерування…………………..19
1.4.  Методи підвищення надійності радіозв'язку………………………23
Висновки до розділу 1…………………………………………………….25

РОЗДІЛ 2.РОЗРОБКА СИСТЕМИ РЕЗЕРВУВАННЯ КАНАЛІВ НА БАЗІ STM32 ТА EXPRESSLRS………………………………………………..26
2.1. Концепція системи резервування каналу зв'язку для дронів………26
2.2. Налаштування проекту в STM32CubeIDE…………………………..27
2.3. Обґрунтування вибору мікроконтролера STM32F103C8T6…….…32
2.4. Програмна реалізація системи перемикання каналів CRSF…….…34
    2.5 Налаштування кастомної частоти в ExpressLRS…………………....43
Висновки до розділу 2………………………………………………….…45

РОЗДІЛ 3. ЕКСПЕРИМЕНТАЛЬНЕ ДОСЛІДЖЕННЯ СИСТЕМИ РЕЗЕРВУВАННЯ КАНАЛІВ…………………………………………..46
3.1. Дослідження роботи системи на кастомних частотах……………..46
3.2. Побудова експериментального стенду для тестування системи перемикання сигналів………………………………………………...48
3.3. Випробування функціональності системи перемикання каналів…52
Висновки до розділу 3…………………………………………………….56

РОЗДІЛ 4. ОХОРОНА ПРАЦІ	58
4.1 Аналіз шкідливих та небезпечних чинників робочого середовища….58
4.2 Вимоги до освітлення робочих місць…………….………….………….58
4.3 Санітарно-гігієнічні вимоги до організації робочих місць…….……...59
4.4 Електробезпека при роботі з комп'ютерною технікою……..………….60
4.5 Ергономічна організація робочого середовища….……………………..61
4.6 Організація режиму праці та відпочинку..……………………………...62
4.7 Профілактика професійних захворювань..……………………………...63
4.8 Заходи з підвищення безпеки технологічного процесу..……………...64
Висновки до розділу 4……………………………………………………….65
ВИСНОВКИ	66
СПИСОК ВИКОРИСТАНИХ ДЖЕРЕЛ	69
ДОДАТОК 1. ГРАФІЧНИЙ МАТЕРІАЛ…………………………………...73


ВСТУП
У сучасних умовах широкого застосування безпілотних літальних апаратів (БПЛА) у моніторингу, рятувальних операціях, логістиці та військовій справі критично важливим є забезпечення надійного зв'язку між оператором і бортовою системою. Втрата керування через нестабільність або заглушення сигналу може призвести до аварії, втрати апарата або створення загроз для безпеки людей.
Більшість радіосистем використовують один канал зв'язку, що робить їх вразливими до перешкод, багатошляхового загасання або штучного радіозаглушення. Стандартні засоби захисту не завжди гарантують збереження каналу керування в умовах активного електромагнітного фону або за межами прямої видимості.
Актуальність дослідження обумовлена зростаючим використанням БПЛА у критично важливих застосуваннях, необхідністю підвищення надійності без значного збільшення вартості та потребою в доступних рішеннях для широкого кола користувачів.
Традиційні підходи зосереджуються на вдосконаленні одного каналу передачі, що має фізичні обмеження. Концепція резервування каналів є перспективним напрямком, який реалізований у професійних системах, але практично відсутній у доступних рішеннях.
Існуючі дослідження включають теоретичні основи радіозв'язку [1, 2], системи радіокерування БПЛА [3], методи резервування в телекомунікаціях [4, 5] та відкриті радіосистеми типу ExpressLRS [6].
Критичний аналіз показує, що комерційні рішення характеризуються високою вартістю та закритою архітектурою, а комплексні рішення для масових систем радіокерування практично відсутні.
       Метою дослідження є розробка системи резервування каналів радіозв'язку для БПЛА на базі протоколу ExpressLRS з підтримкою кастомних частот. Для досягнення поставленої мети необхідно проаналізувати теоретичні основи безпровідного зв'язку та методи підвищення надійності, дослідити можливості модифікації ExpressLRS для кастомних частот, розробити архітектуру системи резервування з двома незалежними каналами та створити алгоритм автоматичного перемикання між каналами. Також потрібно реалізувати програмно-апаратний комплекс на базі STM32 і провести експериментальне дослідження ефективності розробленої системи для підтвердження її працездатності та оцінки показників надійності зв'язку.
Об'єктом дослідження є системи радіозв'язку для керування БПЛА. Предмет - методи підвищення надійності через резервування каналів на базі відкритих протоколів.
Методи дослідження наступні: теоретичний аналіз, системний підхід, математичне та програмне моделювання, експериментальний метод, спектральний аналіз.
Результати можуть бути використані для створення доступних комплектів модернізації систем керування БПЛА, розробки рекомендацій щодо налаштування кастомних частот та впровадження алгоритмів автоматичного перемикання у комерційні системи.
Структура випускової кваліфікаційної роботи охоплює вступ, чотири розділи, висновки, список використаних джерел та додатки. Загальний обсяг роботи становить 73 сторінки, з них 19 рисунки.

РОЗДІЛ 1. ТЕОРЕТИЧНІ ОСНОВИ ТА АНАЛІЗ СИСТЕМ КЕРУВАННЯ БПЛА
 1.1. Теоретичні основи безпровідного зв'язку
1.1.1 Загальні принципи роботи безпровідних систем зв'язку

 1.1.2 Основні характеристики радіозв'язку

 1.1.3 Метрики якості зв'язку та їх значення
Оцінка якості безпровідного зв'язку здійснюється за допомогою декількох ключових метрик, кожна з яких характеризує певні аспекти роботи системи [10]. Розуміння цих метрик є критично важливим для проектування надійних систем радіокерування.
Link Quality (LQ) або якість зв'язку є комплексним показником, що характеризує загальну надійність з'єднання між передавачем та приймачем. Ця метрика зазвичай обчислюється на основі кількості успішно прийнятих пакетів відносно загальної кількості переданих. LQ може виражатися у відсотках або в умовних одиницях від 0 до 100, де більше значення означає кращу якість зв'язку.
RSSI (Received Signal Strength Indicator) показує силу прийнятого сигналу в конкретній точці. Ця метрика вимірюється в децибелах відносно одного міліваты (дБм) і зазвичай має від'ємні значення. Чим менше від'ємне значення RSSI, тим сильніший сигнал. Наприклад, RSSI -40 дБм означає набагато сильніший сигнал, ніж -80 дБм.
SNR (Signal-to-Noise Ratio) або співвідношення сигнал-шум характеризує якість сигналу відносно рівня фонових перешкод. Ця метрика вимірюється в децибелах і показує, наскільки корисний сигнал перевищує рівень шуму. Високе значення SNR означає чистий сигнал з мінімальними перешкодами, що забезпечує надійну передачу даних.
Packet Error Rate (PER) показує відсоток втрачених або пошкоджених пакетів даних. Ця метрика безпосередньо пов'язана з якістю зв'язку - низький PER означає надійну передачу, тоді як високий PER свідчить про проблеми в каналі зв'язку.
Latency або затримка характеризує час, необхідний для передачі сигналу від передавача до приймача. В системах керування мала затримка є критично важливою, оскільки великі затримки можуть призвести до нестабільності системи управління.
 1.1.4 Фактори що впливають на якість безпровідного зв'язку
Якість безпровідного зв'язку залежить від численних факторів, які можна розділити на декілька категорій. Розуміння цих факторів допомагає проектувати більш надійні системи та прогнозувати їх поведінку в різних умовах експлуатації.
Відстань між передавачем та приймачем є одним з основних факторів, що впливає на якість зв'язку. Зі збільшенням відстані сила сигналу зменшується згідно з законом оберненого квадрату, що означає швидке погіршення якості зв'язку при віддаленні приймача від передавача. Крім того, на великих відстанях збільшується ймовірність потрапляння перешкод на шляху поширення сигналу.
Фізичні перешкоди, такі як будівлі, дерева, рельєф місцевості та інші об'єкти, можуть суттєво впливати на поширення радіохвиль. Різні матеріали мають різну проникність для радіохвиль різних частот. Метал майже повністю блокує радіосигнали, бетон та цегла створюють значну атенюацію, тоді як дерево та скло пропускають радіохвилі з меншими втратами.
Атмосферні умови також впливають на поширення радіохвиль. Вологість повітря, опади, температурні інверсії та інші метеорологічні явища можуть змінювати характеристики поширення сигналу. Особливо це помітно на вищих частотах, де атмосферне поглинання може бути значним.
Електромагнітна інтерференція від інших електронних пристроїв створює додатковий шум у радіоефірі. Джерелами інтерференції можуть бути інші радіосистеми, Wi-Fi мережі, мобільні телефони, мікрохвильові печі та промислове обладнання. В густонаселених районах рівень електромагнітного забруднення може бути досить високим.
Багатопроменеве поширення виникає, коли радіосигнал досягає приймача кількома шляхами внаслідок відбиття від різних поверхонь. Це може призводити до інтерференції між різними копіями сигналу та спотворення переданої інформації. Ефект особливо помітний в урбанізованих районах з великою кількістю відбиваючих поверхонь.
1.1.5 Проблематика втрати зв'язку та методи її запобігання
Втрата зв'язку в системах радіокерування є критичною проблемою, яка може призвести до серйозних наслідків. Розуміння причин втрати зв'язку та методів її запобігання є ключовим для створення надійних систем.
Основними причинами втрати зв'язку є погіршення умов поширення радіохвиль, вихід за межі дальності дії, поява сильних перешкод на шляху сигналу та електромагнітна інтерференція. Крім того, технічні несправності обладнання, розряд акумулятора або неправильне налаштування параметрів також можуть призвести до втрати зв'язку.
Для запобігання втраті зв'язку використовуються різні технологічні рішення. Автоматичне регулювання потужності дозволяє збільшувати потужність передавача при погіршенні умов зв'язку. Системи частотного стрибання (frequency hopping) змінюють робочу частоту кілька разів на секунду, що зменшує вплив інтерференції на конкретних частотах.
Протоколи з підтвердженням прийому забезпечують надійну доставку критично важливих команд шляхом повторної передачі неприйнятих пакетів. Адаптивні алгоритми швидкості передачі автоматично зменшують швидкість при погіршенні умов зв'язку, що підвищує ймовірність успішного прийому даних.
Дублювання каналів зв'язку є одним з найефективніших методів підвищення надійності. При використанні кількох незалежних каналів зв'язку ймовірність одночасної втрати всіх каналів значно зменшується. Це може реалізовуватися через використання різних частот, різних антен або навіть різних технологій передачі [11].
Важливою складовою надійних систем є також системи моніторингу якості зв'язку, які постійно відстежують ключові параметри та попереджають оператора про погіршення умов зв'язку. Це дозволяє своєчасно вжити заходів для запобігання повній втраті зв'язку.
 1.2. Аналіз протоколів безпровідного зв'язку для систем керування
 1.2.1 Загальний огляд протоколів для систем дистанційного керування
Сучасні системи дистанційного керування використовують різноманітні протоколи безпровідного зв'язку, кожен з яких має свої унікальні характеристики та область застосування [12]. Розвиток технологій радіозв'язку призвів до появи спеціалізованих протоколів, оптимізованих для конкретних завдань керування з мінімальною затримкою та високою надійністю.
Основними вимогами до протоколів систем керування є низька затримка передачі команд, висока надійність доставки критично важливих даних, ефективне використання частотного спектру та можливість роботи в умовах електромагнітних перешкод. Крім того, важливими факторами є енергоефективність для збільшення часу автономної роботи, простота налаштування та можливість модифікації під конкретні потреби користувача.
Історично системи радіокерування розвивалися від простих аналогових протоколів до складних цифрових систем з можливостями телеметрії та двосторонього зв'язку. Перші системи використовували AM або FM модуляцію на фіксованих частотах, що робило їх вразливими до перешкод та обмежувало функціональність.
Сучасні цифрові протоколи використовують складні алгоритми кодування та модуляції, що забезпечує високу стійкість до перешкод та можливість передачі великої кількості каналів керування одночасно. Багато з них також підтримують телеметрію, що дозволяє отримувати зворотну інформацію про стан керованого об'єкта [13].
1.2.2 Аналіз системи TBS Crossfire
Team BlackSheep Crossfire є одним з провідних протоколів для систем дистанційного керування, особливо популярним у сфері FPV дронів та радіокерованих моделей. Система працює в діапазоні 900 МГц, що забезпечує відмінну проникність через перешкоди та велику дальність зв'язку.
Основною перевагою Crossfire є виключна дальність зв'язку, яка може досягати десятків кілометрів при використанні відповідних антен та умов поширення радіохвиль. Система використовує адаптивну потужність передачі, автоматично збільшуючи її при погіршенні умов зв'язку та зменшуючи для економії енергії при хорошому сигналі [14].
Протокол підтримує до 16 каналів керування з роздільною здатністю 10 або 11 біт, що забезпечує точне керування. Затримка передачі команд становить приблизно 15-30 мілісекунд залежно від налаштувань, що є прийнятним для більшості застосувань. Система також включає потужні можливості телеметрії з підтримкою різних датчиків.
Однак Crossfire має і свої недоліки. По-перше, це закрита пропрієтарна система, що обмежує можливості модифікації та налаштування під специфічні потреби. По-друге, обладнання TBS є досить дорогим порівняно з альтернативами. По-третє, робота в діапазоні 900 МГц може створювати конфлікти з іншими пристроями в цьому діапазоні.
 1.2.3 Аналіз системи FrSky
FrSky є одним з найстаріших та найпоширеніших виробників систем радіокерування, що пропонує декілька різних протоколів для різних застосувань [15]. Найпопулярнішими є протоколи D8, D16 та ACCESS, кожен з яких має свої особливості та переваги.
Протокол D16 працює в діапазоні 2.4 ГГц та підтримує до 16 каналів керування з високою роздільною здатністю. Система використовує технологію frequency hopping для підвищення стійкості до перешкод, постійно змінюючи робочу частоту в межах доступного діапазону. Це забезпечує надійну роботу навіть в умовах сильних електромагнітних перешкод.
Новіший протокол ACCESS пропонує покращені характеристики, включаючи нижчу затримку та розширені можливості телеметрії. Система підтримує криптографічне кодуванння задля безпеки передачі даних, що особливо важливо для комерційних застосувань.
Основними перевагами систем FrSky є широка лінійка продуктів для різних застосувань, відносно доступна ціна та добра підтримка спільноти користувачів. Система має надійну роботу та добре документовані протоколи.
Недоліками FrSky є обмежені можливості модифікації через закритість протоколів, відносно висока затримка порівняно з новішими системами та обмежені можливості налаштування частотних параметрів. Крім того, деякі старіші протоколи FrSky можуть мати проблеми сумісності з новим обладнанням.
 1.2.4 Аналіз системи Ghost
ImmersionRC Ghost є відносно новим протоколом, розробленим спеціально для FPV застосувань з акцентом на мінімальну затримку та високу надійність [16]. Система працює в діапазоні 2.4 ГГц та використовує унікальний підхід до організації зв'язку.
Головною особливістю Ghost є надзвичайно низька затримка, яка може становити всього 1-2 мілісекунди в оптимальних умовах. Це досягається за рахунок оптимізованого протоколу та спеціальних алгоритмів обробки сигналу. Така низька затримка є критично важливою для динамічного керування швидкісними об'єктами.
Система підтримує різні режими роботи з компромісом між затримкою та дальністю зв'язку. Користувач може вибирати між режимами з максимальною швидкістю для коротких відстаней або режимами з більшою дальністю для польотів на великі відстані.
Ghost також включає розвинену систему телеметрії з можливістю передачі великої кількості параметрів без суттєвого впливу на затримку керування. Протокол підтримує автоматичне налаштування потужності та адаптивну швидкість передачі.
Основними недоліками Ghost є відносно мала дальність зв'язку порівняно з системами, що працюють на нижчих частотах, висока вартість обладнання та обмежена доступність продуктів на ринку. Крім того, система є закритою і не дозволяє модифікацій.
 1.2.5 Аналіз системи ExpressLRS
ExpressLRS (ELRS) є відкритим протоколом безпровідного зв'язку, розробленим спільнотою ентузіастів як альтернатива комерційним системам [17]. Проект почався як експеримент з метою створення системи з максимально низькою затримкою та високою надійністю при збереженні доступності та можливості модифікації.
Система може працювати в декількох частотних діапазонах, включаючи 900 МГц та 2.4 ГГц, що дозволяє вибирати оптимальний варіант для конкретного застосування. Діапазон 900 МГц забезпечує кращу проникність та більшу дальність, тоді як 2.4 ГГц дозволяє досягти нижчої затримки.
Ключовою перевагою ELRS є надзвичайно низька затримка, яка може становити менше 4 мілісекунд при використанні найшвидших режимів. Це досягається за рахунок оптимізованого протоколу та ефективних алгоритмів обробки [18]. Система підтримує різні швидкості передачі від 25 Гц до 1000 Гц, дозволяючи користувачу вибирати компроміс між затримкою та дальністю.
ELRS використовує адаптивні алгоритми, що автоматично змінюють швидкість передачі та потужність залежно від умов зв'язку. При погіршенні сигналу система автоматично переходить на нижчі швидкості для підтримання надійного зв'язку.
Унікальною особливістю ELRS є повна відкритість коду та можливість модифікації всіх аспектів роботи системи. Користувачі можуть змінювати частоти, потужність, алгоритми та інші параметри відповідно до своїх потреб. Це робить ELRS особливо привабливим для дослідницьких та експериментальних застосувань.
 1.2.6 Порівняльний аналіз систем за критеріями надійності, затримки, дальності та можливостей модифікації
Для об'єктивної оцінки різних протоколів необхідно порівняти їх за ключовими параметрами, важливими для систем керування. Кожна система має свої сильні та слабкі сторони, що роблять її більш або менш придатною для конкретних застосувань [19].
На рисунку 1.1 представлено блок-діаграму порівняльного аналізу розглянутих протоколів за основними критеріями надійності
Рис.1.1.  Блок-діаграма порівняльного аналізу

За критерієм затримки лідирує ExpressLRS з мінімальною затримкою менше 4 мс, за ним йде Ghost з 1-2 мс, потім FrSky ACCESS з 9-18 мс та Crossfire з 15-30 мс. Низька затримка є критично важливою для динамічного керування, особливо при високих швидкостях.
З точки зору дальності зв'язку Crossfire демонструє найкращі результати завдяки роботі в діапазоні 900 МГц та високій потужності передачі. ELRS в режимі 900 МГц показує порівнянні результати, FrSky забезпечує середню дальність, а Ghost має найменшу дальність через оптимізацію для мінімальної затримки.
Надійність зв'язку залежить від багатьох факторів, включаючи алгоритми frequency hopping, адаптивну потужність та стійкість до перешкод. Усі сучасні системи показують високу надійність, але ELRS та Crossfire мають перевагу завдяки можливості точного налаштування параметрів.
За можливостями модифікації ELRS має абсолютну перевагу як повністю відкрита система. Інші протоколи є закритими і дозволяють лише базові налаштування через офіційні інтерфейси. Це робить ELRS ідеальним вибором для дослідницьких проектів та спеціальних застосувань.
Економічний фактор також є важливим - ELRS має найнижчу вартість завдяки використанню доступних компонентів та відкритості проекту, FrSky пропонує середню ціну, а Crossfire та Ghost є найдорожчими системами.
1.2.7 Обґрунтування вибору ELRS як базової системи для модифікації
На основі проведеного аналізу ExpressLRS виявляється оптимальним вибором для використання як базової системи в дослідницьких проектах, спрямованих на підвищення надійності безпровідного зв'язку [20].
Головною перевагою ELRS є повна відкритість коду та документації, що дозволяє глибоко розуміти принципи роботи системи та вносити необхідні модифікації. Це критично важливо для проектів, що вимагають налаштування нестандартних частот, зміни алгоритмів роботи або інтеграції з додатковим обладнанням.
Низька затримка ELRS робить систему придатною для критичних застосувань, де швидкість реакції є важливою. Можливість вибору між різними швидкостями передачі дозволяє оптимізувати роботу для конкретних умов.
Доступність та низька вартість компонентів ELRS роблять можливим створення експериментальних установок без значних фінансових витрат. Це особливо важливо для дослідницьких проектів з обмеженим бюджетом.
Активна спільнота розробників та користувачів ELRS забезпечує постійний розвиток системи та швидке вирішення проблем. Відкритість проекту означає, що будь-які покращення можуть бути інтегровані в основний код та стати доступними всім користувачам.
Можливість роботи в різних частотних діапазонах дозволяє вибирати оптимальний варіант для конкретного застосування або експериментувати з нестандартними частотами для підвищення стійкості до перешкод.
 1.3. Частотні аспекти роботи систем радіокерування
 1.3.1 Аналіз стандартних частотних діапазонів систем ELRS
ExpressLRS використовує декілька стандартних частотних діапазонів, кожен з яких має свої особливості та обмеження. Основними діапазонами є 900 МГц (конкретно 868-915 МГц) та 2.4 ГГц (2400-2485 МГц), які відповідають міжнародним стандартам для безліцензійного використання радіочастотного спектру.
Діапазон 900 МГц традиційно використовується для застосувань, що вимагають великої дальності зв'язку та хорошої проникності через перешкоди. В цьому діапазоні ELRS зазвичай працює на частотах 868 МГц, 915 МГц та 433 МГц залежно від регіональних регуляторних вимог [21]. Нижчі частоти забезпечують кращу дифракцію навколо перешкод та менші втрати при поширенні в атмосфері.
Діапазон 2.4 ГГц використовується для застосувань, де критично важливою є низька затримка передачі сигналу. Цей діапазон дозволяє використовувати вищі швидкості передачі даних та забезпечувати більшу кількість каналів одночасно [22]. Однак 2.4 ГГц має гіршу проникність через перешкоди та більшу чутливість до атмосферних умов.
Стандартні конфігурації ELRS використовують фіксовані набори частот в межах дозволених діапазонів. Ці частоти вибрані з урахуванням регуляторних вимог різних країн та необхідності уникнення конфліктів з іншими радіосервісами. Однак така стандартизація має свої недоліки в умовах високої щільності радіочастотного забруднення.
 1.3.2 Проблеми радіочастотних перешкод у стандартних діапазонах
Стандартні частотні діапазони, особливо 2.4 ГГц, є надзвичайно насиченими різноманітними радіосервісами та пристроями [23]. В цьому діапазоні працюють Wi-Fi мережі, Bluetooth пристрої, мікрохвильові печі, промислові нагрівачі та багато інших пристроїв, що створюють значний рівень електромагнітних перешкод.
Wi-Fi мережі є одним з найбільших джерел інтерференції для систем радіокерування в діапазоні 2.4 ГГц. Сучасні Wi-Fi маршрутизатори використовують канали шириною 20 або 40 МГц, що може перекривати значну частину спектру. В урбанізованих районах щільність Wi-Fi мереж може бути настільки високою, що знайти "чисті" частоти стає проблематично.
Bluetooth пристрої також створюють помітні перешкоди, особливо ті, що використовують класичний Bluetooth з frequency hopping. Хоча кожна передача Bluetooth займає лише 1 МГц, постійні стрибки по всьому діапазону створюють широкосмуговий шум.
Промислові джерела перешкод включають мікрохвильові печі, індукційні нагрівачі, зварювальне обладнання та різноманітні генератори радіочастотної енергії. Ці пристрої можуть створювати потужні імпульсні або безперервні перешкоди, що повністю блокують радіозв'язок на певних частотах.
Діапазон 900 МГц, хоча і менш заповнений, також має свої проблеми. В цьому діапазоні працюють системи промислової автоматизації, телеметрії, охоронні системи та інші пристрої IoT. Крім того, деякі країни мають обмеження на потужність передачі в цьому діапазоні.
 
 1.3.4 Переваги використання кастомних частот для підвищення стійкості до перешкод
Використання кастомних частот, які відрізняються від стандартних налаштувань комерційних систем, може значно покращити стійкість до електромагнітних перешкод [25]. Основна ідея полягає в тому, щоб знайти менш заповнені ділянки радіочастотного спектру та налаштувати систему на роботу саме в цих діапазонах.
Частотна селективність дозволяє уникати найбільш забруднених частот в конкретному місці експлуатації. Наприклад, якщо в певній локації Wi-Fi мережі активно використовують канали 1, 6 та 11 (2412, 2437 та 2462 МГц відповідно), то система може бути налаштована на роботу в проміжках між цими частотами.
Динамічна зміна частот може здійснюватися в реальному часі на основі аналізу спектру та виявлення найменш зашумлених каналів. Це особливо ефективно для систем, що працюють в умовах змінної електромагнітної обстановки [26]. Алгоритми cognitive radio дозволяють автоматично знаходити вільні частоти та переключатися на них при виявленні перешкод.
Використання вузьких смуг частот замість широких каналів може зменшити ймовірність потрапляння сильних перешкод в робочий діапазон. Це особливо актуально для систем з низькою швидкістю передачі даних, які не потребують широкої смуги.
Кастомні частоти також дозволяють уникати взаємного впливу між декількома системами радіокерування, що працюють в одній області. Це критично важливо для груп дронів або інших випадків одночасного використання багатьох систем.
 1.3.5 Технічні можливості розширення частотного діапазону в системах ELRS
ExpressLRS як відкрита система надає широкі можливості для модифікації частотних параметрів. На програмному рівні це включає зміну налаштувань у прошивці, а на апаратному рівні - модифікацію або заміну радіочастотних компонентів.
Програмні модифікації включають зміну таблиць частот у коді прошивки, налаштування параметрів синтезаторів частот та адаптацію алгоритмів frequency hopping під нові діапазони. ELRS використовує гнучку архітектуру, що дозволяє відносно легко змінювати ці параметри без кардинального переписування коду.
Мікросхеми радіочастотних трансиверів, що використовуються в ELRS (зазвичай сімейство SX127x або SX128x), мають можливість роботи в ширших діапазонах, ніж використовується в стандартних конфігураціях [27]. Наприклад, SX1276 може працювати в діапазоні 137-1020 МГц, що значно перевищує стандартні налаштування ELRS.
Апаратні модифікації можуть включати зміну налаштувань matching circuits, заміну кварцових резонаторів, модифікацію антенних систем та додавання зовнішніх фільтрів для роботи на нестандартних частотах. Ці зміни вимагають глибокого розуміння радіочастотної техніки, але дозволяють досягти оптимальної роботи системи.
Калібрування та налаштування системи на нові частоти включає коригування таблиць калібрування потужності, налаштування автоматичного контролю частоти (AFC) та оптимізацію параметрів модуляції для нових діапазонів. Ці процедури забезпечують стабільну роботу системи в розширеному частотному діапазоні.
1.4. Методи підвищення надійності радіозв'язку
1.4.1. Концепція резервування каналів зв'язку
Резервування каналів зв'язку є одним з найефективніших методів підвищення надійності безпровідних систем керування [31]. Основна ідея полягає у використанні декількох незалежних каналів передачі даних, що працюють паралельно і можуть компенсувати втрату одного або кількох каналів без повної втрати керування.
Принцип резервування базується на статистичній незалежності відмов різних каналів зв'язку. Якщо ймовірність втрати одного каналу становить P, то ймовірність одночасної втрати N незалежних каналів становить P^N, що експоненціально зменшується зі збільшенням кількості каналів. Це дозволяє досягти надзвичайно високої надійності навіть при використанні відносно простих компонентів.
Існують різні підходи до реалізації резервування. Активне резервування передбачає одночасну роботу всіх каналів з постійною передачею даних, що забезпечує миттєве перемикання при втраті основного каналу [29]. Пасивне резервування активує резервні канали лише при виявленні проблем з основним каналом, що економить енергію, але вводить затримку перемикання.
Гарячий резерв підтримує резервні канали в готовності до негайного включення, тоді як холодний резерв вимагає часу на ініціалізацію резервного каналу [30]. Вибір конкретного підходу залежить від вимог до швидкості реакції системи та доступних енергетичних ресурсів.
Для систем радіокерування найбільш придатним є активне гаряче резервування, оскільки критично важливо уникнути навіть короткочасної втрати керування.
 1.4.2 Алгоритми перемикання між каналами зв'язку
Розробка ефективних алгоритмів перемикання між каналами є ключовим аспектом систем з резервуванням. Алгоритм повинен забезпечувати швидке реагування на погіршення якості зв'язку, але при цьому уникати надмірно частих перемикань, що можуть спричинити нестабільність системи.
Простий пороговий алгоритм перемикає на резервний канал, коли якість основного каналу падає нижче встановленого порогу. Зазвичай використовуються різні пороги для перемикання вниз та вгору (гістерезис) для запобігання коливанням між каналами [31]. Наприклад, перемикання на резервний канал відбувається при LQ < 50%, а повернення на основний канал - при LQ > 70%.
Алгоритм зваженого вибору враховує кілька метрик одночасно, обчислюючи загальний індекс якості кожного каналу. Загальний індекс може включати LQ з вагою 40%, RSSI з вагою 30%, SNR з вагою 20% та затримку з вагою 10%.
Предиктивні алгоритми намагаються передбачити погіршення якості каналу на основі тенденцій зміни метрик. Якщо LQ стабільно знижується протягом останніх пакетів, система може перемкнутися на кращий канал навіть до досягнення критичного рівня.
Висновки до розділу 1
Проведений аналіз теоретичних основ безпровідного зв'язку показав, що якість радіозв'язку залежить від численних факторів, включаючи відстань, фізичні перешкоди, атмосферні умови та електромагнітну інтерференцію. Ключовими метриками для оцінки якості зв'язку є Link Quality (LQ), RSSI, SNR, Packet Error Rate та затримка передачі, які комплексно характеризують надійність з'єднання.
Порівняльний аналіз сучасних протоколів безпровідного зв'язку виявив, що ExpressLRS має оптимальне співвідношення характеристик для дослідницьких завдань. Система забезпечує найнижчу затримку (менше 4 мс), високу надійність та повну відкритість коду, що дозволяє проводити глибокі модифікації. ELRS надає можливість налаштування всіх параметрів роботи під специфічні потреби.
Аналіз частотних аспектів показав критичну проблему насиченості стандартних діапазонів (2.4 ГГц та 900 МГц) різноманітними радіосервісами. Wi-Fi мережі, Bluetooth пристрої та промислове обладнання створюють значний рівень електромагнітних перешкод, що знижує надійність зв'язку. Використання кастомних частот може суттєво покращити стійкість до перешкод, але вимагає врахування законодавчих обмежень різних країн.
Концепція резервування каналів зв'язку визначена як найбільш перспективний метод підвищення надійності систем радіокерування. Використання декількох незалежних каналів передачі дозволяє експоненціально зменшити ймовірність повної втрати зв'язку, що критично важливо для безпечного керування БПЛА.
Результати аналізу обґрунтовують доцільність використання ExpressLRS як базової платформи для розробки системи з підвищеною надійністю зв'язку через можливість імплементації кастомних частот та алгоритмів резервування каналів.
РОЗДІЛ 2. РОЗРОБКА СИСТЕМИ РЕЗЕРВУВАННЯ КАНАЛІВ НА БАЗІ STM32 ТА EXPRESSLRS
2.1. Концепція системи резервування каналу зв'язку для дронів
2.1.1. Загальна концепція системи резервування
Розробка надійної системи зв'язку є критичним фактором для забезпечення безпечної
експлуатації безпілотних літальних апаратів (БПЛА). У попередньому розділі було детально проаналізовано проблематику зв'язку в дронах та обґрунтовано необхідність резервування каналу передачі керуючих сигналів. Базуючись на виявлених обмеженнях існуючих протоколів ELRS та CRSF, пропонується розробка системи з подвійним каналом зв'язку.
Основна ідея запропонованої концепції полягає у створенні системи, що забезпечує одночасну передачу керуючих сигналів по двох незалежних каналах з автоматичним перемиканням між ними залежно від якості зв'язку. Це дозволяє суттєво підвищити надійність керування та збільшити дальність дії системи управління БПЛА.
Особливістю розроблюваної системи є використання кастомних частот для передачі, що дозволяє уникнути інтерференції з іншими пристроями та забезпечити більш стабільний зв'язок навіть в умовах складної електромагнітної обстановки.	
2.1.2. Архітектура системи резервування каналу зв'язку
Запропонована система включає наступні компонентів:
1. Пульт керування – базовий елемент системи, що забезпечує формування керуючих команд, які передаються на два незалежні канали передачі.
2. Два передавачі з кастомними частотами – модулі, що здійснюють безпосередню передачу сигналів керування. Кожен передавач працює на своїй унікальній частоті, що забезпечує незалежність каналів зв'язку.
3. Два приймачі – пристрої, встановлені на борту БПЛА, що приймають сигнали від відповідних передавачів.
4. Плата перемикача з аналізатором якості зв'язку – інтелектуальний компонент системи, що здійснює безперервний моніторинг якості сигналу обох каналів та автоматичне перемикання на канал з кращими показниками.

Рис.2.1.  Умовна схема системи 
Висновки до концепції системи
Запропонована концепція системи резервування каналу зв'язку для дронів представляє собою рішення, що дозволяє суттєво підвищити надійність керування БПЛА. Використання двох незалежних каналів передачі з кастомними частотами та інтелектуальної системи аналізу якості зв'язку дозволяє забезпечити безперервність керування навіть у складних умовах експлуатації.

2.2. Налаштування проекту в STM32CubeIDE
2.1.1. Загальний опис проекту
Для реалізації системи селекції CRSF потоків від приймачів ELRS обрано мікроконтролер STM32F103C8T6, який налаштовується в середовищі розробки STM32CubeIDE з використанням графічного конфігуратора STM32CubeMX [32]. Ця інтегрована платформа дозволяє ефективно конфігурувати всі необхідні периферійні пристрої та генерувати базовий код проекту.

Рис. 2.2. Інтерфейс CubeMX 

2.1.2. Конфігурація UART інтерфейсів
Основою системи є три UART порти, кожен з яких виконує специфічну функцію. UART1 слугує вихідним каналом для передачі селектованого CRSF сигналу до польотного контролера. Цей порт налаштовано в асинхронному режимі зі швидкістю передачі 420000 біт/с, що відповідає стандарту CRSF протоколу. Конфігурація включає 8-бітну довжину слова без парності та один стоп-біт, при цьому контроль потоку відключено для максимальної швидкості передачі [33].
UART2 та UART3 функціонують як вхідні канали для прийому CRSF сигналів від двох приймачів ELRS. Обидва порти мають ідентичну конфігурацію з тими ж параметрами швидкості та формату даних, але налаштовані в режимі тільки прийому. Така конфігурація забезпечує одночасну обробку сигналів від двох незалежних джерел без взаємних перешкод.

Рис.2.3. Приклад налаштування UART порта 

2.1.3. Налаштування DMA для ефективної обробки даних
Для забезпечення неблокуючої роботи системи всі UART порти інтегровано з контролером прямого доступу до пам'яті. UART1 використовує DMA1 Channel 4 в нормальному режимі для одноразової передачі даних від пам'яті до периферії.

Рис. 2.4. Приклад налаштування DMA

Вхідні порти UART2 та UART3 налаштовані з DMA1 Channel 6 та відповідним каналом у циклічному режимі, що дозволяє безперервно приймати дані без втрати пакетів [34].

Рис. 2.5. Налаштування Circular mode 

Циклічний режим DMA критично важливий для стабільної роботи системи керування, оскільки забезпечує буферизацію вхідних даних без участі процесора. Це дозволяє основному циклу програми зосередитися на аналізі якості сигналу та прийнятті рішень про перемикання каналів.
2.1.4 Розподіл виводів та тактова система
Вивід мікроконтролера оптимізовано для роботи з трьома UART портами. UART1 використовує стандартні виводи PA9 та PA10, UART2 підключено до PA3 для прийому, а UART3 використовує PB11. Передавальні виводи вхідних портів залишаються неконфігурованими, оскільки система працює в односторонньому режимі.

Рис. 2.6. Розпіновка плати в результаті конфігурації 

Тактова система налаштована з використанням зовнішнього кварцового резонатора на 8 МГц з множенням через PLL до максимальної системної частоти 72 МГц. Така конфігурація забезпечує точну генерацію швидкості передачі для UART портів та мінімізує похибки синхронізації при роботі з високошвидкісними CRSF протоколами [35]. Частота шини APB1 встановлена на 36 МГц для UART2 та UART3, а APB2 працює на повній частоті 72 МГц для UART1, що оптимізує продуктивність системи.

Рис.2.8. Налшатування частоти роботи


2.3 Обґрунтування вибору мікроконтролера STM32F103C8T6
2.3.1.Технічні вимоги системи:
Система селекції CRSF потоків потребує мікроконтролера з трьома високошвидкісними UART портами (420000 бод), підтримкою DMA для неблокуючої обробки та достатньою обчислювальною потужністю для аналізу якості сигналу в реальному часі[36]. Система має бути компактною, енергоефективною та економічно доцільною.
2.3.2. Порівняльний аналіз альтернатив :
Arduino Nano базується на мікроконтролері ATmega328P з архітектурою 8-біт, тактовою частотою 16МГц та обсягом пам'яті 32КБ Flash/2КБ RAM. Має один UART порт, відсутність апаратних DMA каналів, споживання 15мА та вартість $3-4.
ESP32 оснащений dual-core архітектурою Cortex з частотою 240МГц та обсягом пам'яті 4МБ Flash/520КБ RAM. Забезпечує три UART порти, вісім DMA каналів, споживання 80-240мА та вартість $5-8.
STM32F401CCU6 має архітектуру Cortex-M4 з частотою 84МГц та обсягом пам'яті 256КБ Flash/64КБ RAM. Пропонує шість UART портів, вісім DMA каналів, споживання 42мА та вартість $5-7.
STM32F32F103C6T6 базується на архітектурі Cortex-M3 з тактовою частотою 72МГц та обсягом пам'яті 32КБ Flash/10КБ RAM. Має три UART порти, сім DMA каналів, споживання 36мА та вартість $1.5-2.5.
STM32F103C8T6 оснащений архітектурою Cortex-M3 з частотою 72МГц та обсягом пам'яті 64КБ Flash/20КБ RAM. Забезпечує три UART порти, вісім DMA каналів, споживання 36мА та вартість $2-3.
2.3.3. Висновки по альтернативах:
Arduino Nano - неприйнятний через єдиний UART порт та недостатню продуктивність для обробки трьох потоків 420kbps [37].
ESP32 - надмірна потужність при високому споживанні енергії та вартості. WiFi/Bluetooth модулі створюють електромагнітні перешкоди в RC системах [38].
STM32F401CCU6 - FPU та додаткова продуктивність не потрібні для цілочислових операцій CRSF протоколу. Вартість у 2-2.5 рази вища без відповідних переваг [39].
STM32F103C6T6 - обмежений обсяг пам'яті (32КБ Flash/10КБ RAM) ускладнює реалізацію фільтрації, діагностики та майбутніх розширень при незначній економії вартості (15-20%).
Обґрунтування вибору
STM32F103C8T6 забезпечує оптимальний баланс характеристик для поставленої задачі: достатню кількість UART портів, підтримку DMA, необхідну продуктивність (72МГц) та обсяг пам'яті (64КБ Flash/20КБ RAM) для реалізації алгоритму селекції з можливістю розширення функціональності [40]. Низьке споживання енергії (36мА) та конкурентна вартість ($2-3) роблять його оптимальним вибором для RC застосувань.
2.4. Програмна реалізація системи перемикання каналів CRSF
2.4.1 Загальна архітектура системи та підхід до розробки
Програмна реалізація системи перемикання каналів CRSF базується на мікроконтролері STM32F103 як основній обчислювальній платформі. 
Програмна реалізація використовує HAL (Hardware Abstraction Layer) бібліотеку від STMicroelectronics, що забезпечує портабельність коду та спрощує взаємодію з периферійними пристроями. Архітектура системи спроектована з урахуванням специфіки CRSF протоколу, який характеризується високою швидкістю передачі даних (420000 бод) та строгими вимогами до затримок [41].
2.4.1.1 Компонентна структура програмного забезпечення
Рис. 2.9 Спрощена логічна схема опрацювання вхідних пакетів 

Система складається з п'яти основних програмних модулів:
Модуль парсингу CRSF протоколу виконує декодування вхідних пакетів через спеціалізований парсер, здатний працювати в умовах можливих збоїв та шумів у каналі зв'язку.
Система кільцевих буферів з DMA забезпечує ефективну обробку вхідних даних без втрат. Використання DMA контролерів дозволяє зменшити навантаження на процесор та забезпечити безперервний прийом даних при високих швидкостях передачі [42].
Підсистема моніторингу якості каналів здійснює постійний аналіз стану обох каналів зв'язку, збираючи статистику про якість сигналу, кількість помилок та затримки.
Алгоритм перемикання каналів реалізує основну логіку системи - вибір активного каналу на основі аналізу зібраної статистики з урахуванням гістерезису для запобігання надмірно частим перемиканням.
Модуль верифікації CRC забезпечує контроль цілісності даних шляхом перевірки контрольних сум пакетів з використанням оптимізованого алгоритму CRC8.
2.4.2 Системна конфігурація та структури даних
 Основні параметри системи
Критичні константи системи підібрані на основі аналізу специфікації CRSF протоколу та практичних експериментів:
define MAX_CRSF_FRAME_SIZE                 64
define RING_BUFFER_SIZE                    64
define CRSF_SYNC_BYTE                      0xC8
define PACKET_TIMEOUT_MS                   40
define LQ_CRITICAL_THRESHOLD               30
define LQ_SWITCH_THRESHOLD                 5
define CONSECUTIVE_FAILURES_THRESHOLD      3

Таймаут пакету в 40 мілісекунд відповідає стандартній частоті оновлення CRSF протоколу. Критичний поріг якості зв'язку в 30% визначений як мінімальний рівень для стабільного керування, а поріг перемикання в 5% забезпечує гістерезис.
Структура статистики каналу
typedef struct {
    uint8_t lq;                    // Link Quality (0-100)
    uint32_t last_packet_time;     // Час останнього пакету
    uint32_t consecutive_failures; // Кількість послідовних помилок
    bool ever_had_signal;          // Індикатор наявності сигналу
} crsf_stats_t;

Поле lq містить значення якості зв'язку від приймача та є основним критерієм оцінки якості каналу. Лічильник consecutive_failures відслідковує послідовні невдалі спроби прийому пакетів для виявлення деградації каналу.
2.4.3 Реалізація парсера CRSF протоколу
Архітектура машини станів
Парсер CRSF протоколу реалізований як машина станів для забезпечення надійної обробки бінарного протоколу з варіабельною довжиною пакетів [43]:
t
...

Стан PARSE_STATE_SYNC здійснює пошук синхронізуючого байту 0xC8, а PARSE_STATE_LENGTH перевіряє коректність довжини пакету для запобігання переповненню буфера.
2.4.4 Система буферизації з DMA
Кільцеві буфери
Система використовує кільцеві буфери у поєднанні з DMA контролерами для безперервного прийому даних [44]:
typedef struct {
    uint8_t buffer;
    volatile uint32_t head;    // Позиція запису (DMA)
    volatile uint32_t tail;    // Позиція читання
    uint32_t size;
} ring_buffer_t;

Використання volatile для полів head та tail критично важливе, оскільки ці значення змінюються в обробниках переривань DMA.
Інтеграція з DMA
DMA працює в циклічному режимі з обробкою переривань:
void HAL_UART_RxHalfCpltCallback(UART_HandleTypeDef huart) {
    if (huart == &huart2) {
        uart2_ring.head = RING_BUFFER_SIZE / 2;
    } else if (huart == &huart3) {
        uart3_ring.head = RING_BUFFER_SIZE / 2;
    }
}

void HAL_UART_RxCpltCallback(UART_HandleTypeDef huart) {
    if (huart == &huart2) {
        uart2_ring.head = 0;
    } else if (huart == &huart3) {
        uart3_ring.head = 0;
    }
}

2.4.5 Система моніторингу якості каналів
Збирання статистики
static void update_channel_stats(crsf_stats_t stats, const crsf_packet_t pkt) {
    stats->last_packet_time = pkt->timestamp;
    stats->consecutive_failures = 0;
    stats->ever_had_signal = true;
    if (pkt->type == CRSF_FRAMETYPE_LINK_STATISTICS && pkt->size > CRSF_LQ_INDEX) {
        stats->lq = pkt->raw[CRSF_LQ_INDEX + 2];
    }
}

При успішному прийомі пакету система обнуляє лічильник послідовних помилок та витягує значення Link Quality з пакетів статистики, яке надходить безпосередньо від приймача.
Обробка втрати сигналу

static void update_channel_errors(crsf_stats_t stats) {
    uint32_t now = HAL_GetTick();
    if (stats->ever_had_signal && (now - stats->last_packet_time > CHANNEL_RESET_TIMEOUT_MS)) {
        memset(stats, 0, sizeof(crsf_stats_t));
        return;
    }
    if (stats->ever_had_signal && now - stats->last_packet_time > PACKET_TIMEOUT_MS) {
        stats->consecutive_failures++;
        stats->lq = 0;
    }
}

Система реалізує дворівневу обробку: повне скидання статистики після тривалої відсутності сигналу (300 мс) та збільшення лічильника помилок при короткочасних втратах (40 мс).

2.4.6 Алгоритм перемикання каналів
Логіка прийняття рішень

void check_channel_quality(void) {
    update_channel_errors(&stats_uart2);
    update_channel_errors(&stats_uart3);
    // Швидке перемикання при втраті активного каналу
    crsf_stats_t active_stats = (active_channel == CHANNEL_UART2) ? &stats_uart2 : &stats_uart3;
    bool active_alive = active_stats->ever_had_signal &&
                      (now - active_stats->last_packet_time < PACKET_TIMEOUT_MS);
    if (!active_alive) {
        crsf_stats_t other_stats = (active_channel == CHANNEL_UART2) ? &stats_uart3 : &stats_uart2;
        bool other_alive = other_stats->ever_had_signal &&
                         (now - other_stats->last_packet_time < PACKET_TIMEOUT_MS);
        if (other_alive) {
            active_channel = (active_channel == CHANNEL_UART2) ? CHANNEL_UART3 : CHANNEL_UART2;
            return;
        }
    }
}

Перемикання з гістерезисом
Для стабільної роботи використовується складний алгоритм з гістерезисом:
bool uart2_good = uart2_alive &&
                 (stats_uart2.lq >= LQ_CRITICAL_THRESHOLD) &&
                 (stats_uart2.consecutive_failures <= CONSECUTIVE_FAILURES_THRESHOLD);
if (uart2_alive && uart2_good && uart3_alive && uart3_good) {
    if (active_channel == CHANNEL_UART2) {
        best_channel = (stats_uart3.lq > stats_uart2.lq + LQ_SWITCH_THRESHOLD)?
                      CHANNEL_UART3 : CHANNEL_UART2;
    }
}

Канал вважається "хорошим" при одночасному виконанні трьох умов: присутність сигналу, якість зв'язку вище критичного порогу та допустима кількість послідовних помилок.
2.4.7 Оптимізація CRC8 верифікації
Передобчислена таблиця
Для оптимізації CRC8 обчислень використовується передобчислена таблиця [45]:
void init_crc8() {
    uint8_t crc;
    for (uint16_t i = 0; i < 256; i++) {
        crc = i;
        for (uint8_t j = 0; j < 8; j++) {
            crc = (crc << 1) ^ ((crc & 0x80) ? 0xD5 : 0);
        }
        crc8tab[i] = crc & 0xFF;
    }
}

uint8_t calc(const uint8_t data, uint16_t len) {
    uint8_t crc = 0;
    while (len--) {
        crc = crc8tab[crc ^ data++];
    }
    return crc;
}

Використання lookup table замінює складні обчислення простим пошуком у таблиці, значно прискорюючи верифікацію пакетів.
2.5.Налаштування кастомної частоти в ExpressLRS
ExpressLRS (ELRS) є відкритою системою радіозв'язку, що базується на чіпах ESP32 та SX127x/SX128x, яка забезпечує високошвидкісний низьколатентний зв'язок між наземними та повітряними системами. Одною з ключових переваг ELRS є можливість гнучкого налаштування робочих частот відповідно до локальних радіочастотних регламентів або специфічних вимог застосування.
2.5.1. Підготовка середовища розробки
Для реалізації кастомного частотного діапазону спочатку було виконано підготовку середовища розробки. Було завантажено офіційний Git-репозиторій ExpressLRS [46], який містить повний вихідний код прошивки, конфігураційні файли та документацію. Паралельно було встановлено ELRS Configurator - графічний інструмент, що спрощує процес компіляції та прошивки модулів через веб-інтерфейс.
Архітектура ExpressLRS дозволяє повністю контролювати параметри радіосистеми через модифікацію вихідного коду, що робить її особливо привабливою для дослідницьких та спеціалізованих застосувань, де стандартні налаштування не відповідають вимогам.
2.5.2. Конфігурація користувацьких параметрів
Основні налаштування системи задаються через файл user_defines.txt, який містить директиви препроцесора для активації специфічних функцій. У рамках даного дослідження було додано наступні директиви:
MY_BINDING_PHRASE="11111111"
Regulatory_Domain_FCC_915  
AUTO_WIFI_ON_INTERVAL
LOCK_ON_FIRST_CONNECTION

Директива MY_BINDING_PHRASE встановлює унікальну 8-символьну фразу зв'язування, яка забезпечує криптографічний зв'язок між передавачем та приймачем. Параметр Regulatory_Domain_FCC_915 активує роботу в діапазоні 915 МГц відповідно до регламенту FCC, що є базовим для подальшої модифікації частотного плану. Додаткові директиви AUTO_WIFI_ON_INTERVAL та LOCK_ON_FIRST_CONNECTION налаштовують автоматичне увімкнення Wi-Fi модуля та блокування на першому підключенні відповідно.
2.5.3. Модифікація частотної таблиці
Критичним етапом налаштування кастомної частоти була модифікація файлу FHSS.cpp, який містить алгоритми частотного стрибання (Frequency Hopping Spread Spectrum) [47]. В масиві domains[] для конфігурації FCC915 було замінено стандартні частотні значення на кастомні, розраховані відповідно до специфічних вимог застосування.
Стандартний частотний план FCC915 охоплює діапазон 902-928 МГц з кроком 500 кГц, однак для конкретного застосування виникла необхідність використання вужчого діапазону з модифікованим розподілом каналів. Модифікація торкнулася як базових частот, так і параметрів FREQ_HZ_TO_REG_VAL, які визначають регістрові значення для програмування синтезатора частоти радіочіпа.
Процес компіляції та прошивки
Для реалізації модифікованої конфігурації було обрано відповідні середовища збірки (build environments) в PlatformIO: HappyModel_RX_ES900RX_via_WIFI для приймального модуля та HappyModel_RX_ES900TX_via_WIFI для передавального модуля. Ці конфігурації оптимізовані для конкретної апаратної платформи HappyModel ES900 та забезпечують прошивку через Wi-Fi підключення.
Процес компіляції включав декілька етапів: перевірку синтаксису модифікованого коду, збірку бінарних файлів прошивки з урахуванням кастомних налаштувань, та генерацію веб-інтерфейсу для оновлення. Кожен модуль було переведено в режим Wi-Fi точки доступу, після чого через веб-браузер було виконано завантаження та встановлення нової прошивки.
Успішність процесу підтверджується системним повідомленням "Update Succeeded" та автоматичним перезавантаженням модулів з новими параметрами. Після прошивки обох модулів система автоматично встановила зв'язок на модифікованих частотах, що підтвердило коректність виконаних налаштувань.
Висновки до розділу 2
У даному розділі було детально розроблено та реалізовано систему резервування каналів зв'язку для дронів на базі мікроконтролера STM32F103C8T6 та протоколу ExpressLRS. Запропонована архітектура з подвійним каналом зв'язку забезпечує автоматичне перемикання між незалежними каналами передачі на основі аналізу якості сигналу, що дозволяє суттєво підвищити надійність керування БПЛА. Використання кастомних частот забезпечує стабільний зв'язок в умовах складної електромагнітної обстановки та уникнення інтерференції з іншими пристроями. 
Розроблена програмна реалізація базується на HAL бібліотеці та включає комплексну систему з парсером CRSF протоколу, кільцевими буферами з DMA, моніторингом якості каналів та інтелектуальним алгоритмом перемикання з гістерезисом.
Реалізований алгоритм забезпечує швидке перемикання при втраті активного каналу та стабільну роботу через систему порогів якості зв'язку. Модифікація вихідного коду ExpressLRS дозволила успішно реалізувати кастомні частоти, що підтверджено практичними випробуваннями. Розроблена система може бути адаптована для різних типів дронів та специфічних умов експлуатації, а модульна архітектура дозволяє легко розширювати функціональність в майбутньому.






РОЗДІЛ 3. ЕКСПЕРИМЕНТАЛЬНЕ ДОСЛІДЖЕННЯ СИСТЕМИ РЕЗЕРВУВАННЯ КАНАЛІВ
3.1 Дослідження роботи системи на кастомних частотах
3.1.1 Методика дослідження роботи ELRS на нестандартних частотах
Для дослідження можливостей роботи системи ELRS поза стандартними ISM діапазонами було проведено серію експериментів з використанням кастомних частот у діапазоні 800-850 МГц. Вибір даного діапазону обумовлений декількома факторами: по-перше, він знаходиться поблизу стандартного європейського діапазону 868 МГц, що забезпечує схожі характеристики поширення радіохвиль; по-друге, цей діапазон має меншу завантаженість порівняно з традиційними ISM смугами, що теоретично повинно забезпечити кращу завадостійкість.
Експериментальна установка включала в себе спектроаналізатор Spectrozir SA моделі 1.0.16.0, який використовувався для реєстрації спектральних характеристик випромінюваних сигналів. Спектроаналізатор було налаштовано на діапазон частот від 790 до 860 МГц з роздільною здатністю RBW (Resolution Bandwidth) у режимі Auto та кількістю точок вимірювання 500. Рівень затухання було встановлено на 0 дБ для максимальної чутливості приладу.
Тестування проводилось з використанням передавача ELRS, який було попередньо перепрошито для роботи на кастомних частотах. Передавач було налаштовано на частоту 800-850 МГц. 
Методика вимірювань передбачала реєстрацію спектральних характеристик при активній роботі передавачів в режимі передачі команд керування..
3.1.2 Результати спектрального аналізу роботи в діапазоні 800-850 МГц
Результати спектрального аналізу демонструють успішну роботу ELRS модулів на кастомних частотах. На знімку спектроаналізатора (Рис. 3.1) зафіксовано роботу передавача на частоті близько 800 МГц з максимальним рівнем сигналу -53,8 дБ. Спектр демонструє чітко виражений пік основної частоти без значних побічних випромінювань, що свідчить про якісну роботу передавача в нестандартному діапазоні.

Рис.3.1. Зображення із спектроаналізатора

Аналіз спектральної щільності потужності показує, що ширина спектру сигналу відповідає технічним характеристикам протоколу ELRS. Фоновий рівень шуму в діапазоні вимірювань становить приблизно -110 дБ, що забезпечує відношення сигнал/шум на рівні 56,2 дБ - цілком достатньо для надійного прийому сигналу.
Другий знімок спектроаналізатора (Рис. 3.2) фіксує роботу другого передавача на частоті 850,348 МГц з максимальним рівнем сигналу -61,3 дБ. 
Часова розгортка спектроаналізатора (нижня частина знімків) демонструє стабільність частоти передачі протягом всього періоду спостереження. Відсутність частотних дрейфів свідчить про температурну стабільність кварцових генераторів модулів навіть при роботі на нестандартних частотах.
3.1.3 Оцінка електромагнітної сумісності та регуляторних аспектів
Використання кастомних частот поза стандартними ISM діапазонами потребує аналізу з точки зору електромагнітної сумісності та відповідності регуляторним вимогам. Діапазон 800-850 МГц в Україні частково перекривається з діапазонами мобільного зв'язку стандартів GSM-900 та LTE Band 20.
Проте, потужність випромінювання ELRS передавачів (зазвичай до 100 мВт) є значно нижчою за потужність базових станцій мобільного зв'язку, а характер сигналу (пакетна передача з невеликою шпаруватістю) мінімізує можливість створення завад. Крім того, використання системи на обмежених територіях для випробувань БПЛА додатково знижує ризики електромагнітних конфліктів.
Спектральні характеристики, отримані під час досліджень, демонструють відповідність технічним вимогам щодо ширини спектру та рівня побічних випромінювань. Це свідчить про можливість використання модифікованих ELRS модулів без погіршення електромагнітної сумісності з іншими радіоелектронними засобами.
Для практичного впровадження системи на кастомних частотах рекомендується проведення додаткових досліджень локальної завадової обстановки в конкретних умовах експлуатації та узгодження з відповідними регуляторними органами.
3.2 Побудова експериментального стенду для тестування системи перемикання сигналів
Для перевірки функціональності розробленої плати перемикача та було побудовано експериментальний стенд. Стенд дозволяє моделювати умови експлуатації системи дистанційного керування з двома незалежними резервними каналами прийому сигналу.
3.2.1 Склад та архітектура стенду
Експериментальний стенд складається з декількох основних блоків. Перший блок - це система генерації керуючих сигналів, яка включає пульт дистанційного керування з JR Bay роз'ємом для підключення зовнішніх модулів. Другий блок - це система передачі та прийому, що містить два ідентичні передавачі HappyModel ES900 TX та два відповідні приймачі ELRS. Центральним елементом є блок інтелектуального перемикання на базі мікроконтролера STM32, який аналізує якість сигналу від обох приймачів та передає найкращий сигнал на польотний контролер.

Рис.3.2. Схема підключення основної частини стенду

На На рисунку 3.2. показано основну частину стенду. Видно плату на базі STM32, підключену до двох приймачів ELRS через UART інтерфейси. Плата STM32 у свою чергу з'єднана з польотним контролером для передачі обраного сигналу. Всі компоненти розміщені на робочій поверхні таким чином, щоб забезпечити зручність проведення експериментів та можливість швидкої зміни конфігурації.
3.2.2 Система розподілу сигналу та живлення
Особливістю побудови стенду є організація розподілу сигналу від пульта керування до двох передавачів. Від пульта через JR Bay роз'єм сигнальний провід з CRSF пакетами розгалужується на два незалежні канали. При цьому важливо забезпечити спільну шину заземлення (GND) для всіх компонентів системи, що попереджає появу паразитних струмів та забезпечує стабільну роботу.

Рис.3.3.  Організація живлення та підключення передавачів

На рисунку 3.3. зображенні показано організацію живлення та підключення передавачів. Пульт керування EdgeTX підключений через кабель до системи розподілу сигналу. Така організація дозволяє незалежно керувати кожним каналом передачі та проводити різноманітні експерименти з різними режимами роботи.
Підключення до пульта керування реалізовано через стандартний JR Bay роз'єм, що забезпечує сумісність з широким спектром радіоапаратури. Протокол CRSF дозволяє передавати не тільки команди керування, але й телеметричні дані, що важливо для моніторингу стану системи в реальному часі.

Рис. 3.4. Підлючення до JR Bay пульта


Рис. 3.5. Підлкючення передавачів

Рисунки 3.4. і 3.5. демонструють деталі підключення до JR Bay роз'єму пульта керування та до передавачів. Видно, як організовано підключення кабелів та розподіл сигналу. Така схема підключення забезпечує надійний контакт та можливість швидкого від'єднання для зміни конфігурації стенду.

3.3. Випробування функціональності системи перемикання каналів
Після завершення збірки експериментального стенду було проведено випробування розробленої системи перемикання каналів. Тестування включало перевірку роботи алгоритмів перемикання в різних режимах, аналіз часових характеристик системи та валідацію стабільності роботи в екстремальних умовах.
3.3.1 Методика проведення випробувань
Випробування проводились у декілька етапів з поступовим ускладненням умов тестування. Спочатку перевірялась базова функціональність системи в нормальних умовах, потім моделювались різні аварійні ситуації для перевірки надійності алгоритмів перемикання.
Для моніторингу роботи системи використовувався налагоджувач STM32, який дозволяв відслідковувати в реальному часі значення ключових параметрів системи. Паралельно велось спостереження за поведінкою системи через Betaflight конфігуратор, який підключений до польотного контролера.
3.2.2 Тестування перемикання при втраті сигналу
Найбільш критичним тестом є перевірка поведінки системи при повній втраті сигналу на одному з каналів. Для моделювання такої ситуації фізично відключався сигнальний провід від одного з передавачів, що імітує найагресивнішу ситуацію - повне пошкодження передавача або приймача.

Рис. 3.6. Початковий стан каналів

На першому скріншоті з відладчика видно початковий стан системи, коли активним є канал UART2 (CHANNEL_UART2), а якість зв'язку (lq) для обох каналів показує значення '100'. При цьому система стабільно працює і передає керуючі команди на польотний контролер.


Рис.3.7. Момент переключення на кращий канал

При фізичному відключенні сигнального проводу від одного з передавачів система автоматично перемикається на канал UART3, що демонструє коректну роботу алгоритму детекції втрати сигналу.


3.3.3. Моніторинг роботи через польотний контролер
Для підтвердження стабільності передачі керуючих команд використовувався Betaflight конфігуратор, який дозволяє візуально спостерігати за надходженням сигналів з пульта керування в реальному часі.

Рис. 3.8. Інтерфейс Betaflight конфігуратора 

На скріншоті конфігуратора Betaflight (рисунок 3.8.) видно інтерфейс приймача з відображенням всіх каналів керування. Графіки показують стабільний прийом сигналів з нормальними значеннями для всіх каналів (Roll, Pitch, Yaw, Throttle та допоміжних каналів). Телеметрія підтверджує якісний зв'язок без втрат пакетів.

Рис. 3.9. Зависання сигналу в момент аварійного перемикання

На детальному графіку (рисунок 3.9.) каналу керування (фіолетова лінія) видно момент перемикання між каналами. Короткочасне зависання руху лінії відповідає моменту перемикання системи з одного каналу на інший. Цей період становить менше 100 мілісекунд, що є прийнятним для систем керування БПЛА.
3.3.4 Аналіз часових характеристик системи
На основі аналізу коду та результатів тестування було визначено часові характеристики системи для різних сценаріїв роботи. Основні параметри системи налаштовані наступним чином:
PACKET_TIMEOUT_MS = 40 мс
CHANNEL_CHECK_INTERVAL_MS = 50 мс  
CONSECUTIVE_FAILURES_THRESHOLD = 3
LQ_CRITICAL_THRESHOLD = 30%

Сценарій критичного падіння якості зв'язку (LQ): При падінні Link Quality активного каналу нижче 30% система реагує протягом 50-100 мілісекунд. Мінімальний час реакції становить 50 мс (один цикл перевірки), максимальний - 100 мс (два цикли), середній час реакції - близько 75 мс.
Сценарій втрати пакетів (Timeout): При відсутності пакетів протягом 40 мс система детектує проблему та ініціює перемикання. Загальний час реакції складає 40-90 мс, при середньому значенні 65 мс.
Сценарій множинних помилок: При виявленні 3 послідовних помилок на активному каналі система перемикається протягом 170 мс. Цей сценарій забезпечує найвищу надійність детекції справжніх проблем зв'язку.
3.3.5 Особливості планового перемикання
Важливою особливістю розробленої системи є різниця між аварійним та плановим перемиканням каналів. При тестуванні найагресивнішого сценарію (фізичне відключення передавача) спостерігається короткочасна втрата сигналу, оскільки активний канал миттєво стає недоступним.
Однак при плановому перемиканні, коли система виявляє кращу якість зв'язку на альтернативному каналі, перехід відбувається без втрати сигналу. Попередній канал залишається активним до моменту успішного встановлення зв'язку через новий канал, що забезпечує безперервність керування.
Планове перемикання відбувається при накопиченні статистики протягом 100-200 мс та займає додатково 50 мс на перевірку гістерезису, загальний час процесу становить 150-250 мс.

3.3.6 Продуктивність системи передачі даних
Аналіз продуктивності показав, що система здатна обробляти до 64 байт даних за цикл при тривалості основного циклу близько 1 мс, що забезпечує пропускну здатність 64 КБ/с на канал. Затримка пересилання пакетів складається з DMA передачі (1-2 мс) та обробки парсера (0.1-0.5 мс), загальна затримка не перевищує 2.5 мс.
3.3.7 Оцінка надійності системи
Випробування підтвердили високу надійність розробленої системи. Багаторівнева система детекції проблем (контроль LQ, timeout пакетів, послідовні помилки) забезпечує надійне виявлення проблем зв'язку. Використання гістерезису у 5% та затримки планового перемикання запобігає частим непотрібним переключенням між каналами.
Система демонструє швидкість реакції на критичні ситуації за 65-75 мс, що повністю відповідає вимогам систем керування БПЛА в реальному часі. Навіть у найскладніших умовах максимальна затримка не перевищує 170 мс, що є прийнятним для забезпечення безпечного керування.
Висновки до розділу 3
У розділі 3 представлено експериментальне дослідження створеної системи резервування каналів радіозв’язку, результати якого засвідчили її працездатність і ефективність запропонованих технічних рішень.
Спектральний аналіз продемонстрував успішну адаптацію протоколу ExpressLRS для роботи на кастомних частотах у діапазоні 800-850 МГц. Зафіксовано стабільну роботу передавачів з рівнями сигналу -53,8 дБ та -61,3 дБ при фоновому рівні шуму -110 дБ, що забезпечує відношення сигнал/шум 56,2 дБ для надійного прийому. Відсутність частотних дрейфів підтверджує температурну стабільність системи навіть при роботі поза стандартними ISM діапазонами.
Побудований експериментальний стенд на базі двох незалежних каналів передачі HappyModel ES900 TX та центрального блоку перемикання STM32F103C8T6 дозволив провести всебічне тестування функціональності системи. Випробування алгоритмів перемикання показали високу ефективність багаторівневої системи детекції проблем зв'язку з часовими характеристиками: реакція на втрату пакетів 40-90 мс, на критичне падіння Link Quality 50-100 мс, на множинні помилки до 170 мс.
Система продемонструвала здатність обробляти до 64 КБ/с на канал при споживанні ресурсів менше 600 байт RAM та загальній затримці пересилання пакетів менше 2,5 мс. Валідація через польотний контролер підтвердила стабільність передачі всіх каналів керування з моментами перемикання тривалістю менше 100 мілісекунд, що повністю відповідає вимогам систем керування БПЛА в реальному часі.


ВИСНОВКИ
За підсумками виконання дипломної роботи було успішно розроблено систему резервування каналів радіозв'язку для БПЛА на базі протоколу ExpressLRS з підтримкою кастомних частот. Поставлена мета дослідження повністю досягнута, всі задачі, сформульовані у вступі, успішно вирішені.
В ході теоретичного дослідження було проведено комплексний аналіз безпровідних систем зв'язку для керування БПЛА, детально вивчено протокол ExpressLRS та обґрунтовано його переваги для модифікації. Доведено ефективність концепції резервування каналів як методу підвищення надійності радіозв'язку у критично важливих застосуваннях.
Розроблено теоретичні основи модифікації відкритого протоколу ExpressLRS для роботи на кастомних частотах поза стандартними ISM діапазонами.
Створено модель системи автоматичного перемикання між каналами з використанням багаторівневого аналізу якості зв'язку, що включає контроль Link Quality, timeout пакетів та детекцію послідовних помилок. Розроблено алгоритм з гістерезисом, який запобігає непотрібним перемиканням між каналами.
Реалізовано програмно-апаратний комплекс на базі мікроконтролера STM32F103C8T6, який забезпечує інтелектуальне перемикання між двома незалежними каналами CRSF. Система характеризується низьким споживанням ресурсів (менше 600 байт RAM) та високою швидкодією обробки (затримка менше 200 мікросекунд).
Успішно модифіковано протокол ExpressLRS для роботи на кастомних частотах. Проведено спектральний аналіз, який підтвердив якісну роботу системи в діапазоні 800-850 МГц з відношенням сигнал/шум 56,2 дБ та відсутністю значних побічних випромінювань.
Створено та випробувано експериментальний стенд, який продемонстрував надійну роботу системи резервування. Часові характеристики системи показали швидкість реакції на критичні ситуації 65-75 мс для втрати пакетів та 75 мс для критичного падіння якості зв'язку, що повністю відповідає вимогам систем керування БПЛА в реальному часі.
 
Досягнення поставлених задач :
Задача 1 - аналіз теоретичних основ безпровідного зв'язку та методів підвищення надійності - повністю вирішена. Проведено комплексний огляд існуючих протоколів, виявлено їх обмеження та обґрунтовано необхідність резервування каналів.
Задача 2 - дослідження можливостей модифікації ExpressLRS для кастомних частот - успішно виконана. Розроблено методику налаштування та продемонстровано стабільну роботу на частотах 800-850 МГц.
Задача 3 - розробка архітектури системи резервування з двома незалежними каналами - реалізована. Створено функціональну схему з інтелектуальним перемикачем та двома повністю незалежними каналами передачі.
Задача 4 - створення алгоритму автоматичного перемикання між каналами - виконана. Розроблено та реалізовано багаторівневий алгоритм з підтримкою гістерезису та різних сценаріїв детекції проблем.
Задача 5 - реалізація програмно-апаратного комплексу на базі STM32 - успішно завершена. Створено повнофункціональний пристрій з оптимізованим використанням ресурсів та високими часовими характеристиками.
Задача 6 - проведення експериментального дослідження ефективності системи - виконана повністю. Випробування підтвердили надійність системи та відповідність технічним вимогам.
Розроблена система має високий потенціал для практичного впровадження у сферах, де критично важливим є забезпечення надійного зв'язку з БПЛА: рятувальні операції, моніторинг промислових об'єктів, сільськогосподарські застосування та оборонний сектор.
Результати дослідження можуть бути використані для створення комерційних комплектів модернізації існуючих систем керування БПЛА. Відкрита архітектура ExpressLRS та доступність компонентів забезпечують економічну ефективність рішення порівняно з закритими професійними системами.
Розроблені алгоритми автоматичного перемикання можуть бути адаптовані для інших протоколів радіозв'язку, що розширює сферу їх застосування. Методика налаштування кастомних частот може використовуватись для створення спеціалізованих радіосистем з підвищеною завадостійкістю.
Подальше допрацювання системи може включати розширення кількості резервних каналів до трьох-чотирьох, що дозволить досягти ще вищих показників надійності. 
Також надзвичайно важливим шляхом покращення є збірка модулів прийому і передачі з урахуванням ланцюгів узгодження (фільрти, підсилювачі і таке подібне)
Актуальним напрямком є розробка адаптивних алгоритмів вибору оптимальних частот на основі аналізу електромагнітної обстановки в реальному часі. Це дозволить системі автоматично уникати завантажених діапазонів та забезпечувати максимальну якість зв'язку.
Таким чином, поставлена мета дослідження повністю досягнута: розроблено функціональну систему резервування каналів радіозв'язку для БПЛА з підтвердженою експериментально ефективністю. Всі поставлені задачі успішно вирішені, отримані результати мають значну наукову та практичну цінність для підвищення надійності систем керування безпілотними літальними апаратами.
